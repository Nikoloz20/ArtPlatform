# Go to project root
cd "C:\Users\user\Desktop\FullStack\Projects"

# Create main folder and move into it
mkdir ArtPlatform
cd ArtPlatform

# Create subfolders
mkdir src shared

# Create the solution
dotnet new sln -n MyArtPlatform

# ===============================
# Create services inside src
# ===============================
cd src

dotnet new webapi -n AuthService --framework net8.0
dotnet new webapi -n UserService --framework net8.0
dotnet new webapi -n PortfolioService --framework net8.0
dotnet new webapi -n ArtworkService --framework net8.0
dotnet new webapi -n CategoryService --framework net8.0
dotnet new webapi -n CritiqueService --framework net8.0
dotnet new webapi -n SubscriptionService --framework net8.0

cd ..

# ===============================
# Create class libraries in shared
# ===============================
cd shared

dotnet new classlib -n Contracts --framework net8.0
dotnet new classlib -n CommonUtils --framework net8.0

cd ..

# ===============================
# Add all projects to the solution
# ===============================
dotnet sln add src\AuthService\AuthService.csproj
dotnet sln add src\UserService\UserService.csproj
dotnet sln add src\PortfolioService\PortfolioService.csproj
dotnet sln add src\ArtworkService\ArtworkService.csproj
dotnet sln add src\CategoryService\CategoryService.csproj
dotnet sln add src\CritiqueService\CritiqueService.csproj
dotnet sln add src\SubscriptionService\SubscriptionService.csproj

dotnet sln add shared\Contracts\Contracts.csproj
dotnet sln add shared\CommonUtils\CommonUtils.csproj

# ===============================
# Add shared references to each service
# ===============================
dotnet add src\AuthService\AuthService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\AuthService\AuthService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\UserService\UserService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\UserService\UserService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\PortfolioService\PortfolioService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\PortfolioService\PortfolioService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\ArtworkService\ArtworkService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\ArtworkService\ArtworkService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\CategoryService\CategoryService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\CategoryService\CategoryService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\CritiqueService\CritiqueService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\CritiqueService\CritiqueService.csproj reference shared\CommonUtils\CommonUtils.csproj

dotnet add src\SubscriptionService\SubscriptionService.csproj reference shared\Contracts\Contracts.csproj
dotnet add src\SubscriptionService\SubscriptionService.csproj reference shared\CommonUtils\CommonUtils.csproj
